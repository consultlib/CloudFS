<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Packaging &mdash; Lucid v1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../../',
          VERSION:     '1.0',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: ''
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/interface.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="contents" title="Global table of contents" href="../../contents.html" />
    <link rel="index" title="Global index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Lucid v1.0 documentation" href="../../index.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li><a href="../../index.html">Lucid v1.0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="s-packaging">
<span id="s-dev-howto-packages"></span><h1 id="packaging"><span id="dev-howto-packages"></span>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h1>
<p>Lucid has a package system that you can use to distribute modifications, applications, themes, and other things.</p>
<div class="section" id="s-anatomy-of-a-package">
<h2 id="anatomy-of-a-package">Anatomy of a package<a class="headerlink" href="#anatomy-of-a-package" title="Permalink to this headline">¶</a></h2>
<p>Packages for Lucid are zip files that contain a <tt class="docutils literal"><span class="pre">meta.json</span></tt> file. They end in <tt class="docutils literal"><span class="pre">.lucid.zip</span></tt>. The <tt class="docutils literal"><span class="pre">meta.json</span></tt> file contains information about the package. It contains <a class="reference" href="http://www.json.org/">JSON</a>. encoded data. Here&#8217;s an example:</p>
<div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span><span class="o">,</span>
    <span class="s2">&quot;key2&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="o">,</span> <span class="s2">&quot;value2&quot;</span><span class="o">,</span> <span class="s2">&quot;value3&quot;</span><span class="p">]</span><span class="o">,</span>
    <span class="s2">&quot;key3&quot;</span><span class="o">:</span> <span class="p">[]</span><span class="o">,</span>
    <span class="s2">&quot;key4&quot;</span><span class="o">:</span> <span class="s2">&quot;value4&quot;</span>
<span class="p">}</span>
</pre></div>
<div class="section" id="s-common-parameters">
<h3 id="common-parameters">Common parameters<a class="headerlink" href="#common-parameters" title="Permalink to this headline">¶</a></h3>
<p>All package share these parameters.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">type</span></tt></dt>
<dd>The type of package. Must be <tt class="docutils literal"><span class="pre">application</span></tt>, <tt class="docutils literal"><span class="pre">update</span></tt>, or <tt class="docutils literal"><span class="pre">theme</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">author</span></tt></dt>
<dd>The author of the contents of this package.</dd>
<dt><tt class="docutils literal"><span class="pre">email</span></tt></dt>
<dd>The author's email address.</dd>
<dt><tt class="docutils literal"><span class="pre">version</span></tt></dt>
<dd>The version of this package.</dd>
<dt><tt class="docutils literal"><span class="pre">maturity</span></tt></dt>
<dd>The package's maturity. Can be <tt class="docutils literal"><span class="pre">alpha</span></tt>, <tt class="docutils literal"><span class="pre">beta</span></tt>, <tt class="docutils literal"><span class="pre">rc</span></tt> or <tt class="docutils literal"><span class="pre">stable</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">compatible</span></tt></dt>
<dd>The versions that this package is compatible with. This parameter is an array. For example, if I wanted to say that my package was only compatible with version 1.0 of Lucid, I would pass <tt class="docutils literal"><span class="pre">[&quot;1.0.0&quot;]</span></tt>. However, if I wanted to specify that it would be compatible with both 1.0 and 1.1, I would pass <tt class="docutils literal"><span class="pre">[&quot;1.0.0&quot;,</span> <span class="pre">&quot;1.1.0&quot;]</span></tt>.</dd>
</dl>
</div>
</div>
<div class="section" id="s-application-packages">
<h2 id="application-packages">Application Packages<a class="headerlink" href="#application-packages" title="Permalink to this headline">¶</a></h2>
<p>Application packages have the following directory structure:</p>
<pre>&lt;sysname&gt;/
   (any additional files)
&lt;sysname&gt;.js
&lt;sysname&gt;.js.uncompressed.js (optional)
meta.json</pre>
<p>They have the following key-value pairs for the <tt class="docutils literal"><span class="pre">meta.json</span></tt> file:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">sysname</span></tt></dt>
<dd>This is the system name of your application. This cannot contain any spaces, must start with a letter, and should be camel-cased. This must be the same as the names of the files in the package (see above).</dd>
<dt><tt class="docutils literal"><span class="pre">name</span></tt></dt>
<dd>This is the displayed name of your application.</dd>
<dt><tt class="docutils literal"><span class="pre">category</span></tt></dt>
<dd>The category of the application. Must be either <tt class="docutils literal"><span class="pre">Accessories</span></tt>, <tt class="docutils literal"><span class="pre">Development</span></tt>, <tt class="docutils literal"><span class="pre">Games</span></tt>, <tt class="docutils literal"><span class="pre">Graphics</span></tt>, <tt class="docutils literal"><span class="pre">Internet</span></tt>, <tt class="docutils literal"><span class="pre">Multimedia</span></tt>, <tt class="docutils literal"><span class="pre">Office</span></tt>, <tt class="docutils literal"><span class="pre">System</span></tt>, <tt class="docutils literal"><span class="pre">Administration</span></tt>, or <tt class="docutils literal"><span class="pre">Preferences</span></tt>. Casing does matter.</dd>
<dt><tt class="docutils literal"><span class="pre">icon</span></tt> <em>(optional)</em></dt>
<dd>The icon of the application. Either an icon class, such as <tt class="docutils literal"><span class="pre">icon-16-apps-accessories-calculator</span></tt>, or a icon file, such as <tt class="docutils literal"><span class="pre">calculator.png</span></tt>. Should be 16x16 pixels large. The icon should be placed in the application's directory (not the root of the archive).</dd>
<dt><tt class="docutils literal"><span class="pre">filetypes</span></tt></dt>
<dd>The filetypes that the application can handle. This parameter is an array, where each part of the array is a mimetype. For example, if I had an HTML editor, I would specify <tt class="docutils literal"><span class="pre">[&quot;text/html&quot;]</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">permissions</span></tt></dt>
<dd>An array with the permissions required for this app. This does not prevent the app from being launched, but just prevents it from showing up on the menu in the case that the user is lacking the permissions. Example: <tt class="docutils literal"><span class="pre">[&quot;core.administration&quot;]</span></tt>.</dd>
</dl>
</div>
<div class="section" id="s-theme-packages">
<h2 id="theme-packages">Theme Packages<a class="headerlink" href="#theme-packages" title="Permalink to this headline">¶</a></h2>
<p>Theme packages have the following directory structure:</p>
<pre>&lt;name&gt;/
   (Theme files go in here)
meta.json</pre>
<p>The <tt class="docutils literal"><span class="pre">meta.json</span></tt> file takes the following parameters:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">name</span></tt></dt>
<dd>The name of the theme. Must be the same as the folder in the package (see above).</dd>
<dt><tt class="docutils literal"><span class="pre">preview</span></tt></dt>
<dd>A file in the theme's directory that is a thumbnail of the theme's screenshot. This is <strong>not</strong> a full-sized screenshot.</dd>
<dt><tt class="docutils literal"><span class="pre">wallpaper</span></tt> <em>(optional)</em></dt>
<dd>A file in the theme's directory that can be used as wallpaper.</dd>
</dl>
</div>
<div class="section" id="s-update-packages">
<h2 id="update-packages">Update Packages<a class="headerlink" href="#update-packages" title="Permalink to this headline">¶</a></h2>
<p>Updates have the following directory structure:</p>
<pre>root/
   &lt;contents of update&gt;
update.php</pre>
<p><tt class="docutils literal"><span class="pre">update.php</span></tt> is run after the package is installed. This script needs to detect the current version of Lucid and update it accordingly. It can detect the version from the <tt class="docutils literal"><span class="pre">version.json</span></tt> file in <tt class="docutils literal"><span class="pre">/desktop/dojotoolkit/desktop/resources/</span></tt>. Once the script has been run, the updater copies the files within <tt class="docutils literal"><span class="pre">root</span></tt> to the root folder of the installation.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference" href="">Packaging</a><ul>
<li><a class="reference" href="#anatomy-of-a-package">Anatomy of a package</a><ul>
<li><a class="reference" href="#common-parameters">Common parameters</a></li>
</ul>
</li>
<li><a class="reference" href="#application-packages">Application Packages</a></li>
<li><a class="reference" href="#theme-packages">Theme Packages</a></li>
<li><a class="reference" href="#update-packages">Update Packages</a></li>
</ul>
</li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/dev/howto/packages.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li><a href="../../index.html">Lucid v1.0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright Dojo Foundation and Lucid Contributors.
      Last updated on May 31, 2009.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>